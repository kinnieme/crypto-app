{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./MarketTrendsTable.css';// Helper function to get asset symbol based on name\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getAssetSymbol=name=>{const symbols={'Bitcoin':'BTC','Ethereum':'ETH','Tether':'USDT','Ripple':'XRP','Dogecoin':'DOGE'};return symbols[name]||'';};const MarketTrendsTable=()=>{const[assets,setAssets]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchMarketTrends=async()=>{try{const response=await fetch('/api/market-trends');// Уже правильный маршрут\nif(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setAssets(data);}catch(err){console.error('Error fetching market trends:',err);setError(err.message);}finally{setLoading(false);}};fetchMarketTrends();},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:\"Loading market trends...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[\"Error: \",error]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"trends-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"24h Changes\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Chart\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"horizontal-divider\"})}),assets.length>0?assets.map(asset=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:asset.rank}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"asset-name\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/image/iconsCrypto/\".concat(asset.name,\".svg\"),alt:asset.name,className:\"crypto-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"asset-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"asset-full-name\",children:asset.name}),/*#__PURE__*/_jsx(\"span\",{className:\"asset-symbol\",children:getAssetSymbol(asset.name)})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"trend-td\",children:[\"$\",asset.price]}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:/*#__PURE__*/_jsxs(\"span\",{className:parseFloat(asset.change_24h)<0?'negative-change':'positive-change',children:[asset.change_24h,\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td chart-td\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/image/home/\".concat(parseFloat(asset.change_24h)<0?'negativeChart':'positiveChart',\".png\"),alt:\"\".concat(parseFloat(asset.change_24h)<0?'Negative':'Positive',\" Chart\"),className:\"chart-image\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td action-cell\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"Trade\"})})]},asset.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"no-data\",children:\"No data available\"})})]})]})})]});};export default MarketTrendsTable;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","getAssetSymbol","name","symbols","MarketTrendsTable","assets","setAssets","loading","setLoading","error","setError","fetchMarketTrends","response","fetch","ok","Error","concat","status","data","json","err","console","message","className","children","colSpan","length","map","asset","rank","src","alt","price","parseFloat","change_24h","id"],"sources":["D:/SystemFolders/Desktop/Coursework WEB/project/client/src/components/MarketTrendsTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './MarketTrendsTable.css';\r\n\r\n// Helper function to get asset symbol based on name\r\nconst getAssetSymbol = (name) => {\r\n  const symbols = {\r\n    'Bitcoin': 'BTC',\r\n    'Ethereum': 'ETH',\r\n    'Tether': 'USDT',\r\n    'Ripple': 'XRP',\r\n    'Dogecoin': 'DOGE'\r\n  };\r\n  return symbols[name] || '';\r\n};\r\n\r\nconst MarketTrendsTable = () => {\r\n  const [assets, setAssets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMarketTrends = async () => {\r\n      try {\r\n        const response = await fetch('/api/market-trends'); // Уже правильный маршрут\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        setAssets(data);\r\n      } catch (err) {\r\n        console.error('Error fetching market trends:', err);\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMarketTrends();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"market-trends-section\">\r\n        <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n        <div className=\"table-container\">\r\n          Loading market trends...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"market-trends-section\">\r\n        <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n        <div className=\"table-container\">\r\n          Error: {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"market-trends-section\">\r\n      <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n      <div className=\"table-container\">\r\n        <table className=\"trends-table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"trend-th\">#</th>\r\n              <th className=\"trend-th\">Name</th>\r\n              <th className=\"trend-th\">Price</th>\r\n              <th className=\"trend-th\">24h Changes</th>\r\n              <th className=\"trend-th\">Chart</th>\r\n              <th className=\"trend-th\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td colSpan=\"6\" className=\"horizontal-divider\"></td>\r\n            </tr>\r\n            {assets.length > 0 ? (\r\n              assets.map((asset) => (\r\n                <tr key={asset.id}>\r\n                  <td className=\"trend-td\">{asset.rank}</td>\r\n                  <td className=\"trend-td\">\r\n                    <div className=\"asset-name\">\r\n                      <img src={`/image/iconsCrypto/${asset.name}.svg`} alt={asset.name} className=\"crypto-icon\" />\r\n                      <div className=\"asset-info\">\r\n                        <span className=\"asset-full-name\">{asset.name}</span>\r\n                        <span className=\"asset-symbol\">{getAssetSymbol(asset.name)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"trend-td\">${asset.price}</td>\r\n                  <td className=\"trend-td\">\r\n                    <span className={parseFloat(asset.change_24h) < 0 ? 'negative-change' : 'positive-change'}>\r\n                      {asset.change_24h}%\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"trend-td chart-td\">\r\n                    <img\r\n                      src={`/image/home/${parseFloat(asset.change_24h) < 0 ? 'negativeChart' : 'positiveChart'}.png`}\r\n                      alt={`${parseFloat(asset.change_24h) < 0 ? 'Negative' : 'Positive'} Chart`}\r\n                      className=\"chart-image\"\r\n                    />\r\n                  </td>\r\n                  <td className=\"trend-td action-cell\">\r\n                    <button className=\"action-btn\">Trade</button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"6\" className=\"no-data\">No data available</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketTrendsTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./MarketTrendsTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MarketTrendsTable=()=>{const[assets,setAssets]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchMarketTrends=async()=>{try{const response=await fetch('/api/market-trends');// Уже правильный маршрут\nif(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setAssets(data);}catch(err){console.error('Error fetching market trends:',err);setError(err.message);}finally{setLoading(false);}};fetchMarketTrends();},[]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:\"Loading market trends...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[\"Error: \",error]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"market-trends-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"market-trends-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"Market\"}),\" Trend\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"trends-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"24h Change\"}),/*#__PURE__*/_jsx(\"th\",{className:\"trend-th\",children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"horizontal-divider\"})}),assets.length>0?assets.map(asset=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:asset.rank}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:asset.name}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:asset.price}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:asset.change_24h}),/*#__PURE__*/_jsx(\"td\",{className:\"trend-td\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:asset.action})})]},asset.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no-data\",children:\"No data available\"})})]})]})})]});};export default MarketTrendsTable;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","MarketTrendsTable","assets","setAssets","loading","setLoading","error","setError","fetchMarketTrends","response","fetch","ok","Error","concat","status","data","json","err","console","message","className","children","colSpan","length","map","asset","rank","name","price","change_24h","action","id"],"sources":["D:/SystemFolders/Desktop/Coursework WEB/project/client/src/components/MarketTrendsTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './MarketTrendsTable.css';\r\n\r\nconst MarketTrendsTable = () => {\r\n  const [assets, setAssets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchMarketTrends = async () => {\r\n      try {\r\n        const response = await fetch('/api/market-trends'); // Уже правильный маршрут\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        setAssets(data);\r\n      } catch (err) {\r\n        console.error('Error fetching market trends:', err);\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMarketTrends();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"market-trends-section\">\r\n        <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n        <div className=\"table-container\">\r\n          Loading market trends...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"market-trends-section\">\r\n        <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n        <div className=\"table-container\">\r\n          Error: {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"market-trends-section\">\r\n      <h2 className=\"market-trends-title\"><span className=\"highlight\">Market</span> Trend</h2>\r\n      <div className=\"table-container\">\r\n        <table className=\"trends-table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"trend-th\">#</th>\r\n              <th className=\"trend-th\">Name</th>\r\n              <th className=\"trend-th\">Price</th>\r\n              <th className=\"trend-th\">24h Change</th>\r\n              <th className=\"trend-th\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td colSpan=\"5\" className=\"horizontal-divider\"></td>\r\n            </tr>\r\n            {assets.length > 0 ? (\r\n              assets.map((asset) => (\r\n                <tr key={asset.id}>\r\n                  <td className=\"trend-td\">{asset.rank}</td>\r\n                  <td className=\"trend-td\">{asset.name}</td>\r\n                  <td className=\"trend-td\">{asset.price}</td>\r\n                  <td className=\"trend-td\">{asset.change_24h}</td>\r\n                  <td className=\"trend-td\">\r\n                    <button className=\"action-btn\">{asset.action}</button>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"no-data\">No data available</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketTrendsTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}